<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>泽野之乡</title>
  
  
  <link href="https://zhihuzeye.github.io/atom.xml" rel="self"/>
  
  <link href="https://zhihuzeye.github.io/"/>
  <updated>2024-05-14T07:58:53.108Z</updated>
  <id>https://zhihuzeye.github.io/</id>
  
  <author>
    <name>之乎泽野</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>找不到插件依赖 @tarojs/plugin-platform-h5，请先在项目中安装</title>
    <link href="https://zhihuzeye.github.io/2024/05/14/%E6%89%BE%E4%B8%8D%E5%88%B0%E6%8F%92%E4%BB%B6%E4%BE%9D%E8%B5%96-tarojs-plugin-platform-h5%EF%BC%8C%E8%AF%B7%E5%85%88%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%89%E8%A3%85/"/>
    <id>https://zhihuzeye.github.io/2024/05/14/%E6%89%BE%E4%B8%8D%E5%88%B0%E6%8F%92%E4%BB%B6%E4%BE%9D%E8%B5%96-tarojs-plugin-platform-h5%EF%BC%8C%E8%AF%B7%E5%85%88%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%89%E8%A3%85/</id>
    <published>2024-05-14T07:58:53.108Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>运行一个 Taro 的项目，安装完相关依赖后执行命令报错</p></blockquote><h1 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h1><ul><li>yarn install </li><li>yarn run start</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">正在执行任务: yarn run start </span><br><span class="line"></span><br><span class="line">yarn run v1.22.19</span><br><span class="line">$ npm run dev:h5</span><br><span class="line"></span><br><span class="line">&gt; renthouse-taro@1.0.0 dev:h5</span><br><span class="line">&gt; npm run build:h5 -- --watch</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; renthouse-taro@1.0.0 build:h5</span><br><span class="line">&gt; taro build --type h5 --watch </span><br><span class="line"></span><br><span class="line">👽 Taro v3.6.25</span><br><span class="line"></span><br><span class="line">找不到插件依赖 &quot;@tarojs/plugin-platform-h5&quot;，请先在项目中安装，项目路径：D:\xxx\xxx\renthouse-taro</span><br><span class="line">error Command failed with exit code 1.</span><br><span class="line">info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.</span><br></pre></td></tr></table></figure><h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>因为我之前安装过 Taro 最新版本的 cli , 和现有的 Taro 版本不兼容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">taro --version</span><br><span class="line">👽 Taro v3.6.25</span><br><span class="line"></span><br><span class="line">3.6.25</span><br></pre></td></tr></table></figure><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><ol><li>npm uninstall -g @tarojs&#x2F;cli  # 卸载 Trao</li><li>npm install -g @tarojs&#x2F;<a href="mailto:&#x63;&#x6c;&#x69;&#x40;&#51;&#x2e;&#48;&#46;&#x32;&#x39;">&#x63;&#x6c;&#x69;&#x40;&#51;&#x2e;&#48;&#46;&#x32;&#x39;</a>  # 安装指定版本 Trao</li><li>也有可能 nodejs 版本过低和 taro&#x2F;cli 不兼容，nvm 切换 16.x 以上版本试试</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;运行一个 Taro 的项目，安装完相关依赖后执行命令报错&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;执行步骤&quot;&gt;&lt;a href=&quot;#执行步骤&quot; class=&quot;headerlink&quot; title=&quot;执行步骤&quot;&gt;&lt;/a&gt;执行步骤&lt;/h1&gt;&lt;u</summary>
      
    
    
    
    
    <category term="Taro" scheme="https://zhihuzeye.github.io/tags/Taro/"/>
    
  </entry>
  
  <entry>
    <title>记录一次精度丢失问题</title>
    <link href="https://zhihuzeye.github.io/2024/05/14/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E7%B2%BE%E5%BA%A6%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/"/>
    <id>https://zhihuzeye.github.io/2024/05/14/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E7%B2%BE%E5%BA%A6%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/</id>
    <published>2024-05-14T07:35:22.000Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在使用 Antd Select 组件的时候，请求详情回显 显示了一个错误的 value 值，不显示 label。</p></blockquote><p><img src="/images/20240514153755.png" alt="图片"></p><h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h2><ul><li>后端给前端传了一个 1293435817355730946（19位） 大数值类型，前端通过 ‘’ + 、toString() 等方式进行类型转换，得到 1293435817355731000（精度丢失），Select 列表没有对应上 [类型和数值]，所以绑定不上。</li></ul><p>因为 JavaScript 中的数字类型 (Number) 有一定的精度限制。在JavaScript中,数字类型使用 IEEE 754 标准,采用 64位 浮点数表示。这种表示方式存在一些局限性:</p><ol><li>整数的精确表示范围为-2^53 + 1 到 2^53 - 1,即 -9007199254740991 到 9007199254740991（16位） 。超出这个范围的整数将丢失精度。</li><li>浮点数的表示也有误差,无法精确表示某些十进制小数，比如0.1。</li></ol><h2 id="如何解决"><a href="#如何解决" class="headerlink" title="如何解决"></a>如何解决</h2><ol><li>与后端开发沟通，通过字符串传递</li><li>使用 ES2020 BigInt 类型 </li><li>使用 bignumber.js、decimal.js 等第三方库解决</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;在使用 Antd Select 组件的时候，请求详情回显 显示了一个错误的 value 值，不显示 label。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/images/20240514153755.png&quot; alt=&quot;图片&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>微搭 h5 跳转小程序</title>
    <link href="https://zhihuzeye.github.io/2024/04/28/%E5%BE%AE%E6%90%AD-h5-%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    <id>https://zhihuzeye.github.io/2024/04/28/%E5%BE%AE%E6%90%AD-h5-%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F/</id>
    <published>2024-04-28T07:25:38.000Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>场景：小程序内嵌 微搭 H5 页面， 点击 H5 某块区域，跳转到小程序详情页</p></blockquote><p>代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default function (&#123; event, data &#125;) &#123;</span><br><span class="line">  const value = data?.target</span><br><span class="line">  try &#123;</span><br><span class="line">    wx.miniProgram.navigateTo(&#123;</span><br><span class="line">      url: `/packageC/houseDetails/index?id=$&#123;value&#125;`,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: `/packageC/houseDetails/index?id=$&#123;value&#125;`,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错：事件响应失败:组件container8[tap事件 响应Id wwvcp1rff5h]:wx is not defined</p><p><img src="/images/20240428154808.png" alt="图片"></p><p>自建的 H5 判断 navigator.userAgent 是微信环境后可以 直接使用  wx.miniProgram.navigateTo Api , 微搭并不支持。</p><p>解决方法：<br><a href="https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html">https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html</a></p><ol><li>微搭应用编辑-&gt;应用设置-&gt;开发设置-&gt;加载外部资源(JS&#x2F;CSS)</li><li>将 <a href="https://res.wx.qq.com/open/js/jweixin-1.3.2.js">https://res.wx.qq.com/open/js/jweixin-1.3.2.js</a> 资源下载本地，放到公司 OSS 上</li></ol><p><img src="/images/20240428160058.png" alt="图片"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;场景：小程序内嵌 微搭 H5 页面， 点击 H5 某块区域，跳转到小程序详情页&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;代码：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas</summary>
      
    
    
    
    <category term="微搭" scheme="https://zhihuzeye.github.io/categories/%E5%BE%AE%E6%90%AD/"/>
    
    
    <category term="微搭低代码" scheme="https://zhihuzeye.github.io/tags/%E5%BE%AE%E6%90%AD%E4%BD%8E%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>一家互联网公司是如何运作的？</title>
    <link href="https://zhihuzeye.github.io/2024/04/18/%E4%B8%80%E5%AE%B6%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E4%BD%9C%E7%9A%84%EF%BC%9F/"/>
    <id>https://zhihuzeye.github.io/2024/04/18/%E4%B8%80%E5%AE%B6%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E4%BD%9C%E7%9A%84%EF%BC%9F/</id>
    <published>2024-04-18T15:30:27.000Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>当今，互联网公司在全球范围内发挥着日益重要的作用。它们不仅改变了我们的生活方式，还在商业领域产生了深远的影响。本文将探讨一家典型互联网公司的运作方式，深入了解其内部机制和关键流程。通过对互联网公司的运作进行剖析，我们可以更好地理解这些公司如何取得成功，并对未来发展趋势有所启示。</p></blockquote><h1 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h1><table><thead><tr><th>项目角色</th><th>岗位职责（概述）</th></tr></thead><tbody><tr><td>BDM 市场拓展经理</td><td>负责目标客户的拓展和挖掘、搞好客户关系</td></tr><tr><td>BM 商务经理</td><td>负责项目的投标、实施及方案解决的沟通</td></tr><tr><td>PM 产品经理</td><td>收集、分析用户需求、提需求、画原型</td></tr><tr><td>UE 视觉设计师</td><td>根据产品经理原型画设计稿</td></tr><tr><td>FE 前端开发</td><td>根据设计稿编写前端代码</td></tr><tr><td>RD 后端开发</td><td>设计数据库、对接三方 API、开发接口</td></tr><tr><td>CRD 移动端开发</td><td>ios、Android 移动端开发</td></tr><tr><td>QA 测试人员</td><td>根据产品需求，软件中的缺陷提 bug</td></tr></tbody></table><span id="more"></span><h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><h2 id="一、商务拓展阶段"><a href="#一、商务拓展阶段" class="headerlink" title="一、商务拓展阶段"></a>一、商务拓展阶段</h2><h3 id="市场调研"><a href="#市场调研" class="headerlink" title="市场调研"></a>市场调研</h3><ul><li>目标客户的拓展和挖掘</li><li>各地市场的考察和调研工作</li><li>搞好客户关系</li></ul><h3 id="招投标"><a href="#招投标" class="headerlink" title="招投标"></a>招投标</h3><ul><li>及时关注网路招标信息</li><li>投标标书撰写、系统演示讲解、讲述投标方案</li></ul><h3 id="商务谈判"><a href="#商务谈判" class="headerlink" title="商务谈判"></a>商务谈判</h3><ul><li>与客户进行交流细化、收集、分析用户需求</li><li>制定可行性合作策略和执行方案</li><li>沟通合作意向，并积极促成合作</li><li>合作伙伴关系的建立，合同签订</li></ul><h2 id="二、产品开发阶段"><a href="#二、产品开发阶段" class="headerlink" title="二、产品开发阶段"></a>二、产品开发阶段</h2><h3 id="需求评审"><a href="#需求评审" class="headerlink" title="需求评审"></a>需求评审</h3><ul><li>了解项目的需求和目标</li><li>积极参与需求讨论、敢于质疑需求是否合理（如：需求是否闭环？、开发难度如何？是否需要其它支持？等等）</li><li>不要急于给排期</li></ul><h3 id="技术方案设计"><a href="#技术方案设计" class="headerlink" title="技术方案设计"></a>技术方案设计</h3><ul><li>系统架构设计、模块划分、数据流设计等</li><li>确定系统的整体结构和关键模块</li><li>找准设计重点、技术上求简单，不过度设计</li><li>注意要产出文档（如：数据库设计、接口设计等），交付时用！</li><li>多和其他开发人员沟通</li></ul><h3 id="代码开发"><a href="#代码开发" class="headerlink" title="代码开发"></a>代码开发</h3><ul><li>符合开发规范（git 分支规范、注释的规范、RESTful API 设计规范、模块命名的规范等）</li><li>写出开发文档（如组件的使用、单点登录鉴权使用）代码注释</li><li>及时写单元测试</li><li>Mock API、PostMan 模拟前端请求</li><li>Code Review</li></ul><h3 id="接口评审"><a href="#接口评审" class="headerlink" title="接口评审"></a>接口评审</h3><ul><li>RD 后端同学接口开发完成，生成接口文档（Swagger、Yapi ）</li><li>FE 前端同学 、CRD 移动端同学 参与接口评审，通过之前 Mock 的数据，给后端同学反馈接口字段是否不足等</li></ul><h3 id="接口联调"><a href="#接口联调" class="headerlink" title="接口联调"></a>接口联调</h3><ul><li>RD 后端同学 和 FE 前端同学、 CRD 移动端通信 接口联调</li><li>UE 和 PM 尽早介入 （UE 确定视觉效果、UI 样式走查、PM 确定产品功能）</li></ul><h3 id="代码自测"><a href="#代码自测" class="headerlink" title="代码自测"></a>代码自测</h3><ul><li>查看需求和原型、根据需求描述，自己操作一遍是否符合预期</li><li>代码的单元测试</li></ul><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><ul><li>提测发邮件，抄送项目组（如我们在项目组发消息）</li><li>测试问题要详细记录（比如：禅道、Teambition 等工具）</li><li>有问题及时沟通，QA 测试人员 和 开发人员信息不对称（QA 测试会根据需求跟 PM 确认写测试文档，会偷偷改需求~ ）</li></ul><h3 id="上线"><a href="#上线" class="headerlink" title="上线"></a>上线</h3><ul><li>测试环境没有问题后，就可以发线上环境了（此处可以设置预发环境，预发环境数据库和线上的一样，有时测试数据库和线上数据库不一致，会导致一些不可预知的错误）</li><li>上线之后及时通知 QA 回归测试</li><li>上线之后及时同步给 PM 和项目组</li><li>如有问题，及时回滚，先止损，再排查问题</li></ul><h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ol><li>如何反馈排期？<ul><li>给自己预留一点空间，考虑自己的并行工作，从前端开发的角度，可以让设计师、后端给排期，再排期，如果设计师、后端没有给出排期，自己先根据需求给工作量（多少工时能做完）</li><li>项目排期 &#x3D; UE 设计时间  + 前后端开发时间 + 接口联调时间 +  自测时间 + 提测上线时间</li><li>项目排期前和相关开发人员做好充分沟通</li></ul></li><li>PM 加需求怎么办？<ul><li>看情况、如果是改个文案加个字段的简单需求，一般顺手改掉就好了，如果是主流程改动，影响进度了，公司有规定情况，走需求变更流程即可（如：PM 提交需求变更单），没有规定的话发起项目组和 leader 的评审，重新评估排期</li></ul></li><li>已经排完期，项目完不成怎么办？<ul><li>加班！排期是自己给的，吃一堑长一智。</li></ul></li><li>QA 提的 bug 无法复现怎么办？<ul><li>当面讨论，让他帮忙复现。</li></ul></li><li>怎样才是好的开发节奏？<ul><li>前紧后松，项目排完期了后，尽快的完成手头上的开发安排，留多一点时间给自己自测，Code Review，提高自己的代码质量</li></ul></li></ol><h2 id="三、交付"><a href="#三、交付" class="headerlink" title="三、交付"></a>三、交付</h2><p>交付一般需提供以下文档：</p><ul><li>需求规格说明书：包括客户需求、功能规格、非功能性需求等详细描述，是开发团队了解客户需求和开发目标的重要参考。</li><li>设计文档：包括软件架构设计、模块设计、数据库设计等，帮助开发人员理解系统设计和实现细节。</li><li>用户手册：为最终用户提供软件的使用说明，包括安装步骤、操作指南、常见问题解答等，以便用户能够正确地使用软件。</li><li>API 文档：如果软件包含接口，需要提供清晰的 API 文档，包括接口定义、参数说明、返回结果等，方便其他开发者集成和使用。</li><li>测试文档：包括测试计划、测试用例、测试报告等，记录了软件的测试过程和结果，验证软件是否符合需求和质量标准。</li><li>部署文档：描述软件的部署流程，包括环境要求、安装步骤、配置说明等，确保软件能够顺利部署和运行。</li><li>维护文档：包括系统架构、关键模块、重要功能点等说明，方便后续维护人员理解系统结构和代码逻辑。</li></ul><h2 id="四、市场营销和销售阶段"><a href="#四、市场营销和销售阶段" class="headerlink" title="四、市场营销和销售阶段"></a>四、市场营销和销售阶段</h2><ul><li>各种搜索引擎信息流、短视频投放广告、意向客户留言</li><li>拨打意向客户电话、促成成交</li><li>潜在客户挖掘和拓展（如：有一款电销系统，我要推销给客户，如何挖掘潜在客户？BOSS 直聘查看有哪些公司在招销售人员，天眼查找到公司的法人联系方式，向他推荐该系统。）</li></ul><hr><p><img src="/images/20240419235446.png" alt="图片" title="软件开发流程图"><br><img src="/images/47550_template.png" alt="图片" title="软件项目开发甘特图"></p><hr><blockquote><p>本文是基于 to G（to Government） 的软件开发模式进行探讨，对于互联网的产品自研的公司，一般没有 商务拓展阶段 , 需求从“群众中来 到群众中去”。</p><p>本文是个人工作中经验的总结，难免会有问题和理解偏差，如果有问题请进行评论，我也会尽力去改进，自己也在学习的路上，欢迎交流，非常感谢！</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;当今，互联网公司在全球范围内发挥着日益重要的作用。它们不仅改变了我们的生活方式，还在商业领域产生了深远的影响。本文将探讨一家典型互联网公司的运作方式，深入了解其内部机制和关键流程。通过对互联网公司的运作进行剖析，我们可以更好地理解这些公司如何取得成功，并对未来发展趋势有所启示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;名词解释&quot;&gt;&lt;a href=&quot;#名词解释&quot; class=&quot;headerlink&quot; title=&quot;名词解释&quot;&gt;&lt;/a&gt;名词解释&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;项目角色&lt;/th&gt;
&lt;th&gt;岗位职责（概述）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;BDM 市场拓展经理&lt;/td&gt;
&lt;td&gt;负责目标客户的拓展和挖掘、搞好客户关系&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BM 商务经理&lt;/td&gt;
&lt;td&gt;负责项目的投标、实施及方案解决的沟通&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PM 产品经理&lt;/td&gt;
&lt;td&gt;收集、分析用户需求、提需求、画原型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UE 视觉设计师&lt;/td&gt;
&lt;td&gt;根据产品经理原型画设计稿&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FE 前端开发&lt;/td&gt;
&lt;td&gt;根据设计稿编写前端代码&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RD 后端开发&lt;/td&gt;
&lt;td&gt;设计数据库、对接三方 API、开发接口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CRD 移动端开发&lt;/td&gt;
&lt;td&gt;ios、Android 移动端开发&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;QA 测试人员&lt;/td&gt;
&lt;td&gt;根据产品需求，软件中的缺陷提 bug&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    <category term="项目管理" scheme="https://zhihuzeye.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"/>
    
    
    <category term="项目管理" scheme="https://zhihuzeye.github.io/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>【踩坑】uni.navigateTo 微信小程序 跳转无效问题</title>
    <link href="https://zhihuzeye.github.io/2024/04/17/%E3%80%90%E8%B8%A9%E5%9D%91%E3%80%91uni-navigateTo-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%B7%B3%E8%BD%AC%E6%97%A0%E6%95%88%E9%97%AE%E9%A2%98/"/>
    <id>https://zhihuzeye.github.io/2024/04/17/%E3%80%90%E8%B8%A9%E5%9D%91%E3%80%91uni-navigateTo-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%B7%B3%E8%BD%AC%E6%97%A0%E6%95%88%E9%97%AE%E9%A2%98/</id>
    <published>2024-04-17T08:28:54.000Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近接手了一个项目，该项目在用户体验上极度不友好，如：每次请求就显示 loading ，自定义 tabbar 可点击区域太小，组件间切换白屏等等问题。本着 “要改革、就不要怕” 的原则，便大刀阔斧的对项目代码进行一系列优化。</p></blockquote><p>结果改着改着就出现了问题：</p><ul><li>分包 packageB 的路径能点击</li><li>packageA、packageC 里的路径不能点击</li><li>手机能点击、模拟器不能点击</li><li>模拟器能点击，手机不能点击</li></ul><p><img src="/images/emoji/tieba/035.png" alt="图片"></p><span id="more"></span><h1 id="代码不报错，是最难解决的-bug-！！！"><a href="#代码不报错，是最难解决的-bug-！！！" class="headerlink" title="代码不报错，是最难解决的 bug ！！！"></a>代码不报错，是最难解决的 bug ！！！</h1><p>这让我一度怀疑是 小程序开发者工具问题、小程序基础库版本问题，nodejs 版本问题 、vue-cli 版本问题，<br>然后就 nvm 切换版本、开发者工具卸载删除、基础库版本修改一系列骚操作。。。</p><p><strong>马后炮：</strong> 如果代码能跑起来，肯定是没有问题的，微信小程序开发者工具 navigateTo 、redirectTo 、switchTab 、reLaunch 这些基础的 API 无论是哪个基础库都能很好的支持。</p><p>大概率不用去想 nodejs 版本问题， 删除掉 node_modules 再重装挺浪费时间的。 所以很多时候都是代码中的问题。</p><p>比如我这个 bug 有些链接能跳转 有些不能跳转，就复制能跳转的 链接，<strong>全局检索</strong>。<strong>查找它们其中的差异</strong></p><p>问题出现的地方：<br>程序初始化 拦截了 navigateTo、redirectTo、switchTab、reLaunch 这些操作，执行 checkVisitPage 方法，如果链接在白名单列表中且已登录就能跳转，否则唤起登录的弹窗。</p><p>”好巧不巧，我把登录弹窗组件删除掉了，因为它在每个页面都写了一遍“，所以点击没有反应。。。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// App.vue</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;</span><br><span class="line">addInterceptor,</span><br><span class="line">checkVisitPage</span><br><span class="line">&#125; from &quot;./utils/index.js&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">globalData: &#123;</span><br><span class="line">systemInfo: null</span><br><span class="line">&#125;,</span><br><span class="line">onLaunch: function () &#123;</span><br><span class="line">this.initApp();</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">initApp() &#123;</span><br><span class="line">addInterceptor.call(this);</span><br><span class="line">checkVisitPage.call(this);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">// utils/index.js</span><br><span class="line">const openPages = [</span><br><span class="line">&#x27;/pages/home/index&#x27;,</span><br><span class="line">&#x27;/pages/webView/index&#x27;,</span><br><span class="line">...</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export function checkVisitPage(url) &#123;</span><br><span class="line">if (!url) &#123;</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">if (url.indexOf(&quot;?&quot;) &gt; -1) &#123;</span><br><span class="line">url = url.split(&quot;?&quot;)[0];</span><br><span class="line">&#125;</span><br><span class="line">if (!openPages.includes(url)) &#123;</span><br><span class="line">try &#123;</span><br><span class="line">const userInfo = uni.getStorageSync(&#x27;userInfo&#x27;);</span><br><span class="line">if (!userInfo.accessToken || userInfo?.userType == 7) &#123;</span><br><span class="line">this.$store.commit(&#x27;common/setPurviewWarningMethod&#x27;, true)</span><br><span class="line">return false;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">this.$store.commit(&#x27;common/setPurviewWarningMethod&#x27;, false)</span><br><span class="line">&#125;</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function addInterceptor() &#123;</span><br><span class="line">uni.addInterceptor(&#x27;navigateTo&#x27;, &#123;</span><br><span class="line">invoke: (e) =&gt; checkVisitPage.call(this, e.url),</span><br><span class="line">&#125;)</span><br><span class="line">uni.addInterceptor(&#x27;redirectTo&#x27;, &#123;</span><br><span class="line">invoke: (e) =&gt; checkVisitPage.call(this, e.url),</span><br><span class="line">&#125;)</span><br><span class="line">uni.addInterceptor(&#x27;switchTab&#x27;, &#123;</span><br><span class="line">invoke: (e) =&gt; checkVisitPage.call(this, e.url),</span><br><span class="line">&#125;)</span><br><span class="line">uni.addInterceptor(&#x27;reLaunch&#x27;, &#123;</span><br><span class="line">invoke: (e) =&gt; checkVisitPage.call(this, e.url),</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其它：如果无法跳转，请检查 是否 &#x2F; 斜杆开头</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uni.navigateTo(&#123;</span><br><span class="line">url: &#x27;/pages/index/index&#x27;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>因为这两天给环境整崩溃了，某些老项目没有 yarn.lock 或 package-lock 文件 ，代码 dev 能启动起来，但是 build 失败！，怀疑是 nodejs 版本问题，typescript 版本不兼容问题等等，最后向原来的开发人员，重新套了个壳， 才知道 package.json 少了 esbuild-loader 依赖！ 为啥源码里 package.json  没有 esbuild-loader …</p></blockquote><p>但是错误提示可不友好，让你根本搜索不到错误发生的原因</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[tsl] ERROR in \node_modules\@types\node\util.d.ts(1656,1)</span><br><span class="line">      TS1128: Declaration or statement expected.</span><br><span class="line">ERROR in \node_modules\@types\node\util.d.ts</span><br><span class="line"></span><br><span class="line">[tsl] ERROR in \node_modules\@types\node\util.d.ts(1654,26)</span><br><span class="line">      TS1005: &#x27;;&#x27; expected.</span><br></pre></td></tr></table></figure><h1 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h1><ol><li>能自己解决的尽量不麻烦别人，遇到问题首先 谷歌，GPT 查询（此操作最好不要超过 1小时）</li><li>仔细阅读源码，全局检索 查找它们其中的差异</li><li>善于交流、勇于交流。（在不得已要麻烦别人的时候，也不要害怕。 出门靠朋友~ 态度好点虚心求教，很多人愿意帮你的）</li><li>站起来喝杯咖啡吧！有时候把事情缓一缓。解决问题的思绪就来了</li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;最近接手了一个项目，该项目在用户体验上极度不友好，如：每次请求就显示 loading ，自定义 tabbar 可点击区域太小，组件间切换白屏等等问题。本着 “要改革、就不要怕” 的原则，便大刀阔斧的对项目代码进行一系列优化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;结果改着改着就出现了问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分包 packageB 的路径能点击&lt;/li&gt;
&lt;li&gt;packageA、packageC 里的路径不能点击&lt;/li&gt;
&lt;li&gt;手机能点击、模拟器不能点击&lt;/li&gt;
&lt;li&gt;模拟器能点击，手机不能点击&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/emoji/tieba/035.png&quot; alt=&quot;图片&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="小程序" scheme="https://zhihuzeye.github.io/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
    <category term="uni-app" scheme="https://zhihuzeye.github.io/tags/uni-app/"/>
    
    <category term="微信小程序" scheme="https://zhihuzeye.github.io/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 添加 Disqus 评论系统</title>
    <link href="https://zhihuzeye.github.io/2024/04/14/hexo-%E6%B7%BB%E5%8A%A0-Disqus-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"/>
    <id>https://zhihuzeye.github.io/2024/04/14/hexo-%E6%B7%BB%E5%8A%A0-Disqus-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</id>
    <published>2024-04-13T16:26:00.000Z</published>
    <updated>2024-05-14T07:58:53.108Z</updated>
    
    <content type="html"><![CDATA[<h3 id="登录-Disqus"><a href="#登录-Disqus" class="headerlink" title="登录 Disqus"></a>登录 Disqus</h3><p><img src="https://raw.githubusercontent.com/zhihuzeye/zhihuzeye.github.io/main/images/20240414002939.png" alt="图片" title="disqus登录"></p><h3 id="选择-在我的网站上安装-Disqus"><a href="#选择-在我的网站上安装-Disqus" class="headerlink" title="选择 在我的网站上安装 Disqus"></a>选择 在我的网站上安装 Disqus</h3><p><img src="/images/20240414003055.png" alt="图片" title="disqus登录"></p><h3 id="创建一个新站点"><a href="#创建一个新站点" class="headerlink" title="创建一个新站点"></a>创建一个新站点</h3><p>注意：Website Name 这个字段非常重要，后续需要在 _config.yml 中用到<br>点击 Create Site 按钮即可</p><p><img src="/images/20240414003325.png" alt="图片" title="disqus登录"></p><span id="more"></span><h3 id="配置主题-config-yml-文件"><a href="#配置主题-config-yml-文件" class="headerlink" title="配置主题 _config.yml 文件"></a>配置主题 _config.yml 文件</h3><p>网上有很多教程 直接配置，这样是不对的，配置会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">disqus:</span><br><span class="line">  enable: true</span><br><span class="line">  shortname:your Website Name</span><br><span class="line">  count: true</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>踩坑：disqus  shortname 报错 YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key</p><p>shortname 需要换行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">disqus:</span><br><span class="line">  enable: true</span><br><span class="line">  shortname:</span><br><span class="line">          your Website Name</span><br><span class="line">  count: true</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;登录-Disqus&quot;&gt;&lt;a href=&quot;#登录-Disqus&quot; class=&quot;headerlink&quot; title=&quot;登录 Disqus&quot;&gt;&lt;/a&gt;登录 Disqus&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/zhihuzeye/zhihuzeye.github.io/main/images/20240414002939.png&quot; alt=&quot;图片&quot; title=&quot;disqus登录&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;选择-在我的网站上安装-Disqus&quot;&gt;&lt;a href=&quot;#选择-在我的网站上安装-Disqus&quot; class=&quot;headerlink&quot; title=&quot;选择 在我的网站上安装 Disqus&quot;&gt;&lt;/a&gt;选择 在我的网站上安装 Disqus&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/20240414003055.png&quot; alt=&quot;图片&quot; title=&quot;disqus登录&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建一个新站点&quot;&gt;&lt;a href=&quot;#创建一个新站点&quot; class=&quot;headerlink&quot; title=&quot;创建一个新站点&quot;&gt;&lt;/a&gt;创建一个新站点&lt;/h3&gt;&lt;p&gt;注意：Website Name 这个字段非常重要，后续需要在 _config.yml 中用到&lt;br&gt;点击 Create Site 按钮即可&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/20240414003325.png&quot; alt=&quot;图片&quot; title=&quot;disqus登录&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://zhihuzeye.github.io/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://zhihuzeye.github.io/tags/Hexo/"/>
    
    <category term="Disqus" scheme="https://zhihuzeye.github.io/tags/Disqus/"/>
    
  </entry>
  
</feed>
